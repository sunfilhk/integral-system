(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ininvestment-ininvestment"],{"0ccd":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".ininvestment[data-v-2c4f504e]{padding:20px 20px 20px 26px}.ininvestment uni-button[data-v-2c4f504e]{height:40px;font-size:16px}.xh[data-v-2c4f504e]{position:absolute;top:8px;left:-10px;color:red;font-size:18px}.sexs[data-v-2c4f504e]{height:36px;line-height:36px;border:1px solid #e5e5e5;border-radius:6px;padding-left:10px}",""]),t.exports=e},"3cac":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("99af"),a("acd8"),a("ac1f"),a("5319");var n=a("c07f");function i(t){var e=new Date,a=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return"start"===t?a-=10:"end"===t&&(a+=10),n=n>9?n:"0"+n,i=i>9?i:"0"+i,"".concat(a,"-").concat(n,"-").concat(i)}var o={data:function(){return{date:i({format:!0}),time:"12:01",formData:{amount:void 0,profit:void 0,remark:void 0},customerid:"",rules:{amount:{rules:[{required:!0,errorMessage:"请输入金额"},{pattern:/^[0-9]*[1-9][0-9]*$/,errorMessage:"金额为数字且不能为小数"}]}}}},onLoad:function(t){void 0!=t.id?this.auto(t.id):(this.customerid=t.customerid,this.getConfigKey())},methods:{auto:function(t){var e=this;(0,n.getInvestmentByid)({id:t}).then((function(t){e.formData=t.data,e.formData.profit=100*e.formData.profit+"%"}))},getConfigKey:function(){var t=this;(0,n.getConfigKey)({configKey:"customerratio"}).then((function(e){t.formData.profit=100*parseFloat(e.data.profit).toFixed(5)+"%"}))},bindDateChange:function(t){this.date=t.target.value},bindTimeChange:function(t){this.time=t.target.value},submit:function(){var t=this;this.$refs.form.validate().then((function(e){t.formData.amount>=1e9?uni.showToast({icon:"none",title:"金额不能超过十亿"}):(t.formData.profit=.01*parseFloat(t.formData.profit.replace("%","")),t.formData.date=t.date+" "+t.time+":00",void 0!==t.formData.id?(0,n.investmentEdit)(t.formData).then((function(t){uni.navigateBack({delta:1})})):(t.formData.customerid=t.customerid,(0,n.investmentAdd)(t.formData).then((function(t){uni.navigateBack({delta:1})}))))}))}}};e.default=o},"5d6d":function(t,e,a){"use strict";a.r(e);var n=a("dac0"),i=a("5e78");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("8449");var r=a("f0c5"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"2c4f504e",null,!1,n["a"],void 0);e["default"]=s.exports},"5e78":function(t,e,a){"use strict";a.r(e);var n=a("3cac"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},8449:function(t,e,a){"use strict";var n=a("ab3b"),i=a.n(n);i.a},ab3b:function(t,e,a){var n=a("0ccd");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("1144c8e7",n,!0,{sourceMap:!1,shadowMode:!1})},dac0:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uniForms:a("ddd2").default,uniFormsItem:a("7a6d").default,uniEasyinput:a("3344").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"ininvestment"},[a("uni-forms",{ref:"form",attrs:{modelValue:t.formData,rules:t.rules}},[a("uni-forms-item",{attrs:{label:"金额",name:"amount"}},[a("uni-easyinput",{attrs:{type:"text",placeholder:"请输入金额"},model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",e)},expression:"formData.amount"}}),a("v-uni-text",{staticClass:"xh"},[t._v("*")])],1),a("uni-forms-item",{attrs:{label:"利润比例",name:"profit"}},[a("uni-easyinput",{attrs:{type:"text",disabled:!0,placeholder:"请输入利润比例"},model:{value:t.formData.profit,callback:function(e){t.$set(t.formData,"profit",e)},expression:"formData.profit"}}),a("v-uni-text",{staticClass:"xh"},[t._v("*")])],1),a("uni-forms-item",{attrs:{label:"日期"}},[a("v-uni-picker",{staticClass:"sexs",attrs:{mode:"date",value:t.date},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.date))])],1),a("v-uni-text",{staticClass:"xh"},[t._v("*")])],1),a("uni-forms-item",{attrs:{label:"时间"}},[a("v-uni-picker",{staticClass:"sexs",attrs:{mode:"time",value:t.time},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindTimeChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.time))])],1),a("v-uni-text",{staticClass:"xh"},[t._v("*")])],1),a("uni-forms-item",{attrs:{label:"备注",name:"remark"}},[a("uni-easyinput",{attrs:{type:"text",placeholder:"请输入备注"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),a("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1)},o=[]}}]);